
page.tsx

Edit your 
page.tsx
 to 
fetch and display the page from Sanity
:

ðŸ“„ 

app/page.tsx

tsx

Copy

import

 { sanityClient } 

from

'@/lib/sanityClient'

async

function

getPage

(

) {

const

 query = 

`*[_type == "page"][0]`

return

await

 sanityClient.

fetch

(query)
}

export

default

async

function

HomePage

(

) {

const

 page = 

await

getPage

()

return

 (

<
main

>

<
h1

>{page?.title}

</
h1

>

<
p

>{page?.content[0]?.children[0]?.text}

</
p

>

</
main

>
  )
}

ðŸš€ Now, Start Your Dev Server

sh

Copy

npm run dev

Go to 
http://localhost:3001
 and you should see:

âœ… The title and content from Sanity ðŸŽ‰

ðŸŒŸ Next Steps

Make pages dynamic
 â†’ Fetch pages based on slugs.

Style your content
 â†’ Use TailwindCSS or styled-components.

Fetch images
 â†’ Use 
@sanity/image-url
.

Let me know if you need help with anything else! ðŸš€ðŸ”¥

You said:

sja@SJAs-MacBook-Pro symbi-main-site % npm install next-sanity @sanity/client @sanity/image-url

npm error code ERESOLVE
npm error ERESOLVE could not resolve
npm error
npm error While resolving: react-day-picker@8.10.1
npm error Found: date-fns@4.1.0
npm error node_modules/date-fns
npm error   date-fns@"4.1.0" from the root project
npm error
npm error Could not resolve dependency:
npm error peer date-fns@"^2.28.0 || ^3.0.0" from react-day-picker@8.10.1
npm error node_modules/react-day-picker
npm error   react-day-picker@"8.10.1" from the root project
npm error
npm error Conflicting peer dependency: date-fns@3.6.0
npm error node_modules/date-fns
npm error   peer date-fns@"^2.28.0 || ^3.0.0" from react-day-picker@8.10.1
npm error   node_modules/react-day-picker
npm error     react-day-picker@"8.10.1" from the root project
npm error
npm error Fix the upstream dependency conflict, or retry
npm error this command with --force or --legacy-peer-deps
npm error to accept an incorrect (and potentially broken) dependency resolution.
npm error
npm error
npm error For a full report see:
npm error /Users/sja/.npm/_logs/2025-03-21T01_47_27_272Z-eresolve-report.txt
npm error A complete log of this run can be found in: /Users/sja/.npm/_logs/2025-03-21T01_47_27_272Z-debug-0.log
sja@SJAs-MacBook-Pro symbi-main-site % 

Vercel Deployment Expert GPT said:

ðŸš¨ 
Dependency Conflict: 
date-fns
 and 
react-day-picker

The issue here is that 

react-day-picker@8.10.1

 requires 

date-fns@^2.28.0 || ^3.0.0

,

but your project has 

date-fns@4.1.0

, which is 
not compatible
.

âœ… 
Fix: Install with Legacy Peer Deps

Since you already have 

date-fns@4.1.0

, you should install dependencies 
while ignoring peer dependency conflicts
:

Run:

sh

Copy

npm install next-sanity @sanity/client @sanity/image-url --legacy-peer-deps

ðŸ›  
Alternative Fix: Downgrade 
date-fns

If 
react-day-picker
 is crucial to your project and you want to 
maintain compatibility
,

you 
can downgrade 
date-fns

 to a compatible version (
3.6.0
):

sh

Copy

npm install date-fns@3.6.0

Then retry:

sh

Copy

npm install next-sanity @sanity/client @sanity/image-url

ðŸ”„ 
Final Steps

After successful installation, 
restart your dev server
:

sh

Copy

npm run dev

Then check if 
http://localhost:3001
 is working correctly.

Let me know if you run into any other issues! ðŸš€ðŸ”¥

You said:

looks like its working so do we go back to Fetch Data in Next.js

Vercel Deployment Expert GPT said:

ðŸš€ 
Yes! Now We Can Fetch Data in Next.js

Since everything is installed and working correctly, the next step is to 
fetch data from Sanity in Next.js
.

âœ… 
Step 1: Create a 
lib/sanity.ts
 Helper File

This will configure the Sanity client and provide helper functions to fetch data.

ðŸ“Œ 
Create 
lib/sanity.ts

Run:

sh

Copy

mkdir

 -p lib && nano lib/sanity.ts

Then, 
paste this code
 inside 
sanity.ts
:

ts

Copy

import

 { createClient } 

from

'@sanity/client'

;

import

 imageUrlBuilder 

from

'@sanity/image-url'

;

export

const

 sanityClient = 

createClient

({

projectId

: 

'wryptr7v'

, 

// Replace with your actual Project