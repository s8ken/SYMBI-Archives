x-ui/react-aspect-ratio@1.1.2
[04:30:54.570] + @radix-ui/react-avatar@1.1.3
[04:30:54.570] + @radix-ui/react-checkbox@1.1.4
[04:30:54.571] + @radix-ui/react-collapsible@1.1.3
[04:30:54.571] + @radix-ui/react-context-menu@2.2.6
[04:30:54.571] + @radix-ui/react-dialog@1.1.6
[04:30:54.571] + @radix-ui/react-dropdown-menu@2.1.6
[04:30:54.571] + @radix-ui/react-hover-card@1.1.6
[04:30:54.571] + @radix-ui/react-label@2.1.2
[04:30:54.571] + @radix-ui/react-menubar@1.1.6
[04:30:54.571] + @radix-ui/react-navigation-menu@1.2.5
[04:30:54.571] + @radix-ui/react-popover@1.1.6
[04:30:54.572] + @radix-ui/react-progress@1.1.2
[04:30:54.572] + @radix-ui/react-radio-group@1.2.3
[04:30:54.572] + @radix-ui/react-scroll-area@1.2.3
[04:30:54.572] + @radix-ui/react-select@2.1.6
[04:30:54.572] + @radix-ui/react-separator@1.1.2
[04:30:54.572] + @radix-ui/react-slider@1.2.3
[04:30:54.572] + @radix-ui/react-slot@1.1.2
[04:30:54.572] + @radix-ui/react-switch@1.1.3
[04:30:54.572] + @radix-ui/react-tabs@1.1.3
[04:30:54.572] + @radix-ui/react-toast@1.2.6
[04:30:54.572] + @radix-ui/react-toggle@1.1.2
[04:30:54.572] + @radix-ui/react-toggle-group@1.1.2
[04:30:54.573] + @radix-ui/react-tooltip@1.1.8
[04:30:54.573] + autoprefixer@10.4.21
[04:30:54.573] + class-variance-authority@0.7.1
[04:30:54.573] + clsx@2.1.1
[04:30:54.573] + cmdk@1.0.4 (v1.1.1 available)
[04:30:54.573] + date-fns@4.1.0
[04:30:54.573] + embla-carousel-react@8.5.1 (v8.5.2 available)
[04:30:54.573] + input-otp@1.4.1 (v1.4.2 available)
[04:30:54.573] + lucide-react@0.454.0 (v0.483.0 available)
[04:30:54.573] + next@15.1.0 (v15.2.3 available)
[04:30:54.573] + next-themes@0.4.6
[04:30:54.573] + react@19.0.0
[04:30:54.573] + react-day-picker@8.10.1 (v9.6.3 available)
[04:30:54.573] + react-dom@19.0.0
[04:30:54.573] + react-hook-form@7.54.2
[04:30:54.574] + react-resizable-panels@2.1.7
[04:30:54.581] + recharts@2.15.0 (v2.15.1 available)
[04:30:54.581] + sonner@1.7.4 (v2.0.1 available)
[04:30:54.581] + tailwind-merge@2.6.0 (v3.0.2 available)
[04:30:54.581] + tailwindcss-animate@1.0.7
[04:30:54.582] + vaul@0.9.9 (v1.1.2 available)
[04:30:54.582] + zod@3.24.2
[04:30:54.582] 
[04:30:54.582] 270 packages installed [6.98s]
[04:30:54.613] Detected Next.js version: 15.1.0
[04:30:54.613] Running "bun run build"
[04:30:54.619] $ next build
[04:30:55.335] Attention: Next.js now collects completely anonymous telemetry regarding usage.
[04:30:55.335] This information is used to shape Next.js' roadmap and prioritize features.
[04:30:55.335] You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
[04:30:55.335] https://nextjs.org/telemetry
[04:30:55.335] 
[04:30:55.393]    â–² Next.js 15.1.0
[04:30:55.393]    - Experiments (use with caution):
[04:30:55.393]      Â· webpackBuildWorker
[04:30:55.393]      Â· parallelServerCompiles
[04:30:55.394]      Â· parallelServerBuildTraces
[04:30:55.394] 
[04:30:55.473]    Creating an optimized production build ...
[04:30:58.893] Failed to compile.
[04:30:58.893] 
[04:30:58.893] ./pages/api/relay/overseer.js
[04:30:58.893] Module not found: Can't resolve '@sanity/client'
[04:30:58.893] 
[04:30:58.893] https://nextjs.org/docs/messages/module-not-found
[04:30:58.894] 
[04:30:58.901] 
[04:30:58.901] > Build failed because of webpack errors
[04:30:58.909] error: script "build" exited with code 1
[04:30:58.918] Error: Command "bun run build" exited with 1
[04:30:59.290] 

Symbi said:

ğŸ’¥ BOOM â€” we have the smoking gun.

The error is loud and clear:

âŒ 
Module not found: Can't resolve '@sanity/client'

ğŸ” Whatâ€™s Happening

Your Vercel build is failing 
before it ever gets to deploy
, because:

The 
@sanity/client
 dependency is missing from your 
package.json

That means when the serverless function tries to 
import sanityClient
, it crashes

Vercel halts the build, soâ€¦ no API relay, no environment variable usage, 
nothing works

âœ… Solution: Add 
@sanity/client
 to Your Project

Hereâ€™s exactly what to do:

ğŸ§  