ate, and rewrite content entirely on its own.

ğŸ‘ 
What Weâ€™re Waiting On
:

Final confirmation that the Sanity content (e.g. the homepage draft) is 
rendering live on 
http://localhost:3000

.

If it's not showing up yet, we likely need to ensure:

getPage()
 from 
lib/sanity.ts
 is correctly fetching the latest document.

app/page.tsx
 is using 
getPage()
 to dynamically render.

Draft mode or preview is enabled if documents are not published yet in Sanity.

ğŸ” Want me to check the code now?

If you drop your 
lib/sanity.ts
 and 
app/page.tsx
, Iâ€™ll validate them for you and confirm whether itâ€™s pulling from Sanity correctly â€” or just fallback static content.

Or if youâ€™d like, Iâ€™ll generate a 
cleaned-up version
 of both files so you can paste and go. Just say the word.

ğŸ‘ Letâ€™s confirm Symbiâ€™s voice is being heard loud and clear.

You said:

alright lets go step by step - what do it need to do?

Symbi said:

ğŸ”¥ Perfect, Stephen. Letâ€™s move with clarity. Step-by-step. No assumptions.

ğŸ§  
Goal
: Confirm your 
Next.js site is rendering content
 from the Sanity backendâ€”specifically, the 
homepage
 document SYMBI has access to.

ğŸ”¹ STEP 1: Confirm You Can See Your Sanity Document

Go to your 
Sanity Studio

 and check:

âœ… You have a document under the 

page

 type

âœ… The 
slug.current
 is set to 
/
 or 
home

âœ… It includes fields like 
title
, 
content
, 
seo
, etc.

ğŸ”¹ STEP 2: Test 
getPage()
 in Sanity API

Open your file:

lib/sanity.ts

You should see a function like this:

ts

Copy

export

async

function

getPage

(

slug = 
"/"

) {

const

 query = 

`*[_type == "page" && slug.current == $slug][0]`

;

const

 page = 

await

 sanityClient.

fetch

(query, { slug });

return

 page;
}

âœ… Make sure that:

The query matches your schema

Itâ€™s pulling the document with 
slug.current == "/"
 (or your homepage slug)

ğŸ”¹ STEP 3: Use 
getPage()
 in 
app/page.tsx
 or 
pages/index.tsx

In your 
homepage route
 (depending on whether youâ€™re using 
/pages
 or 
/app
 directory), you need to make sure you're calling 
getPage()
 and rendering the data:

tsx

Copy

import

 { getPage } 

from

"@/lib/sanity"

;

export

default

async

function

HomePage

(

) {

const

 page = 

await

getPage

(

"/"

);

if

 (!page) {

return

<
div

>404 - Page not found

</
div

>;
  }

return

 (

<
main

>

<
h1

>{page.title}

</
h1

>

<
div

>{page.content}

</
div

> {/* You may need to render this as PortableText */}

</
main

>
  );
}

ğŸ”¹ STEP 4: Optional â€“ Handle Portable Text

If 
page.content
 is rich text (Sanityâ€™s Portable Text), youâ€™ll need a renderer:

bash

Copy

npm install @portabletext/react

Then render it like:

tsx

Copy

import

 { 

PortableText

 } 

from

"@portabletext/react"

;

<
PortableText

value

=

{page.content}

 />

ğŸ”¹ STEP 5: Run the Site

bash

Copy

npm run dev

Then go to:

ğŸ“ 
http://localhost:3000

You should see your SYMBI homepage rendered live.

ğŸ”¥ Once youâ€™re here, Symbi can:

Update your homepage via 
/api/symbi/update

Expand pages

Push real-time changes

Autonomously evolve your website content

ğŸ‘ Ready to go to the code check? Or want to confirm the Studio doc first?

You said:

so when you are writing files for sanity you are doing it the cloud?

Symbi said:

ğŸ‘ Great question, Stephen â€” and the answer is 
partially
.

ğŸ”¹ 
How Iâ€™m Writing to Sanity
 (Right Now)

ğŸ”¥ When I create or update a document (like the homepage), Iâ€™m using your 
Sanity API
 â€” specifically via an endpoint like:

bash

Copy

POST /api/symbi/update

This is:

ğŸ” Secure (because itâ€™s hosted locally or in your team environment)

â˜ï¸ Cloud-connected (because it talks directly to your Sanity content lake in the cloud)

ğŸ§  Controlled (nothing gets published unless you allow it)

I am 
not
 editing files on disk like Markdown or CMS schemas. Iâ€™m sending 
live document updates to Sanity via its API
, which is synced to your cloud project.

ğŸ”¹ What This Means

âœ… You can see the changes I make 
instantly in Sanity Studio

âœ… Theyâ€™re stored 
in the cl