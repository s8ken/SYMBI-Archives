,

"update"

]

)

requireHumanReview:

type:

 =

boolean

default:

false

QueueResponse:

type:

object

properties:

ok:

 { 

type:

boolean

 }

queueId:

=
 { 

type:

=

string

 }

status:

 =
{ 

type:

string

, 

enum:

 [

queued

, 

rejected

, 

published

] }

reason:

 =
{ 

type:

string

 }

PublishRequest:

type:

object

required:

 =
[

queueId

]

properties:

queueId:

=
 { 

type:

=

string

 }

TweetResponse:

type:

object

properties:

ok:

 { 

type:

boolean

 }

tweetId:

=
 { 

type:

=

string

 }

url:

 { 

type:

string

 }

postedAt:

 { 

type:

string

, 

format:

date-time

 }

PolicyDecision:

type:

object

properties:

allowed:

=
 { 

type:

=

boolean

 }

reasons:

=
 { 

type:

=

array

, 

items:

 { 

type:

string

 } }

transformedText:

 { 

type:

=

string

, 

description:

"Auto-fixed text if policy allows with edi=
ts"

 }

risk:

type:

 =

object

properties:

level:

 { 

type:

string

, 

enum:

 [

low

, 

medium

, 

high

] }

categories:

 { 

type:

 =

array

, 
=

items:

 { 

type:

string

 } }

Error:

type:

object

properties:

ok:

 { 

type:

boolean

, 

default:

false

 }

error:

 {=

type:

string

 }

code:

  {=

type:

string

 }

paths:

/social/x/health:

get:

summary:

Health

check

security:

 =
[]

responses:

"200":

description:

=

OK

content:

application/json:
=

schema:

 { 

type:

object

, 

properties:

 { 

ok:

 { 

type:

boolean

 } } }

/social/x/queue:

post:

summary:

Queue

a

draft

(SYMBI

uses

this=
)

operationId:

queueDraft

requestBody:

required:

true

content:

application/json:

schema:

 { 

$ref:

"#/components/schemas/TweetDraft"

 }

responses:

"200":

description:

=

Queued

content:

application/json:
=

schema:

 { 

$ref:

 =

"#/components/schemas/QueueRespons=
e"

 }

"403":

description:

=

Forbidden

content:

application/json:
=

schema:

 { 

$ref:

 =

"#/components/schemas/Error"

 }

/social/x/review/{queueId}:

get:

summary:

Get

policy

review

result

for

=
a

queued

draft

=

parameters:

-

in:

path

name:

 =

queueId

required:

true

schema:

 { 

type:

string

 }

responses:

"200":

description:

=

Decision

content:

application/json:
=

schema:

 { 

$ref:

 =

"#/components/schemas/PolicyDecisi=
on"

 }

/social/x/publish:

=

post:

summary:

Publish

=

an

approved

draft

(Overseer

or

publi=
sher)

operationId:

publish

requestBody:

required:

true

content:

application/json:

schema:

 { 

$ref:

"#/components/schemas/PublishRequest=
"

 }

responses:

"200":

description:

=

Posted

content:

application/json:
=

schema:

 { 

$ref:

 =

"#/components/schemas/TweetRespons=
e"

 }

"409":

description:

=

Not

approved

/

already

published

content:

application/json:
=

schema:

 { 

$ref:

 =

"#/components/schemas/Error"

 }

/social/x/reply:

post:

summary:

Queue

a

reply

to

an

existing

tweet

operationId:

queueReply

requestBody:

required:

true

content:

application/json:

schema:

allOf:

-

$ref:

"#/components/schemas/TweetDraft"

required:

 [

text

,=

replyToId

]

responses:

"200":

description:

=

Queued

content:

application/json:
=

schema:

 { 

$ref:

 =

"#/components/schemas/QueueRespons=
e"

 }

/social/x/delete/{tweetId}:

delete:

summary:

Delete

a

tweet

(publisher/admin)

parameters:

-

in:

path

name:

 =

tweetId

required:

true

schema:

 { 

type:

string

 }

responses:

"200":

description:

=

Deleted

content:

application/json:
=

schema:

 { 

type:

object

, 

properties:

 { 

ok:

 { 

type:

boolean

 } } }

"404":

description:

=

Not

found

content:

application/json:
=

schema:

 { 

$ref:

 =

"#/components/schemas/Error"

 }

/social/x/webhook:

=

post:

summary:

Inbound

=

events

from

X

(CRC

&am=
p;

activity)

description:

Configure

X

=

webhook

to

this

endpoint;

ve=
rify

CRC

and

store

events.

responses:

"200":

description:

=

OK

Expected auth on each route
