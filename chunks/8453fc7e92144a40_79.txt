e
 and a 
Bridge receipt writ=
er
 right now (drop-in files).

=

=

You said:

Setup

Export envs:
Required: MONGODB_URI, JWT_SECRET, NODE_ENV=3Ddevelopment, CORS_ORIGINS=3Dh=
ttp://localhost:3000
Optional: OPENAI_API_KEY, ANTHROPIC_API_KEY, V0_TOKEN
Start:
Backend: cd backend && npm i && npm run dev
Frontend: cd frontend && npm i && npm start
Get a JWT (register/login via UI), then:
export API=3Dhttp://localhost:5000
export JWT=3D"Bearer <paste JWT>"
One=E2=80=91Command Baseline

Run non=E2=80=91UAT smoke checks first:
chmod +x tools/smoke.sh && API_BASE=3D$API ./tools/smoke.sh
A) Advanced AI Integration

Assistants (models + message)
List models: curl -s $API/api/llm/models/openai | jq '.data.models[0:5]'
Create thread: curl -s -X POST $API/api/assistant/thread/create -H "Authori=
zation: $JWT" | jq .thread.id -r
Message to =E2=80=9Clatest=E2=80=9D assistant (no assistantId):
curl -s -X POST $API/api/assistant/message -H "Authorization: $JWT" -H "Con=
tent-Type: application/json" -d '{"threadId":"<THREAD_ID>","message":=
"Summarize the Bridge design in 4 bullets.","session_id":"conv:<CONV_ID&=
gt;"}' | jq
Bridge (multi=E2=80=91agent proposals, ranking, dry=E2=80=91run)
Orchestrate:
curl -s -X POST $API/api/bridge/orchestrate -H "Authorization: $JWT" -H "Co=
ntent-Type: application/json" -d '{"task":"Add per-message trust overlays +=
 receipts","agents":["codex","v0","trae"]}' | jq '.proposals[0]'
Expect: .score, .agent_key, .proposal{...}
Dispatch (dry=E2=80=91run):
curl -s -X POST $API/api/bridge/dispatch -H "Authorization: $JWT" -H "Conte=
nt-Type: application/json" -d '{"agent_key":"codex","proposal":{"proposal_i=
d":"..."},"context":{"session_id":"conv:<CONV_ID>"}}' | jq
Socket.IO (JWT handshake)
Node snippet:
import { io } from "socket.io-client";
const socket =3D io(process.env.API, { auth: { token: process.env.JWT.repla=
ce(/^Bearer\\s+/, '') }});
socket.on("connect", ()=3D>console.log("ok", socket.id));
socket.emit("joinConversation", "<CONV_ID>"); // pass the id string, =
not an object
B) Enterprise Security

JWT required & RBAC
curl -s -o /dev/null -w "%{http_code}\n" $API/api/trust | head -n1 =E2=86=
=92 expect 401
Helmet/CORS/rate limit
curl -sI $API/healthz | egrep -i 'content-security-policy|x-frame-options|x=
-content-type-options|referrer-policy'
Optional 429 (api rate=E2=80=91limit is on /api/*, not /healthz):
for i in {1..200}; do curl -s -o /dev/null -w "." $API/api/llm/models/opena=
i -H "Authorization: $JWT"; done; echo
Webhook HMAC
With WEBHOOK_SECRET set:
Expect 401 on bad signature: curl -s -o /dev/null -w "%{http_code}\n" -X PO=
ST $API/api/webhooks/sky/dummy -H "x-symbi-signature: BAD" -H "Content-Type=
: application/json" -d '{"type":"message","data":{}}'
Valid signature (auth then payload validation error is OK; proves signature=
 accepted):
BODY=3D'{"type":"message","data":{}}'
SIG=3D$(echo -n "$BODY" | openssl dgst -sha256 -hmac "$WEBHOOK_SECRET" -bin=
ary | xxd -p -c 256)
curl -s -X POST $API/api/webhooks/sky/dummy -H "x-symbi-signature: $SIG" -H=
 "Content-Type: application/json" -d "$BODY" | jq
Ledger integrity (tamper=E2=80=91evident)
curl -s "$API/api/ledger/verify?session_id=3Dconv:<CONV_ID>" -H "Auth=
orization: $JWT" | jq =E2=86=92 expect { "ok": true, "count": N }
C) Observability

Liveness/Readiness
curl -s $API/healthz | jq and curl -s $API/readyz | jq
Logs
Confirm request/response logs (JSON) include requestId, statusCode, etc. (t=
ail backend console).
Metrics (optional)
If /metrics isn=E2=80=99t exposed, plan to add a tiny Express middleware or=
 OTel (see Polish).
D) Sophisticated Architecture (quick UAT at the end)

VS Code extension (no vendor keys in IDE)
F5, then:
=E2=80=9CSYMBI: Set API Base=E2=80=9D =E2=86=92 http://localhost:5000
=E2=80=9CSYMBI: Save SYMBI_API_KEY=E2=80=9D =E2=86=92 your JWT
=E2=80=9CSYMBI: Roundtable=E2=80=9D and =E2=80=9CSYMBI: Verify Ledger=E2=80=
=9D
Context Capsules
In conversation UI, set goals/tone/constraints/tags; send message; observe =
reply hon