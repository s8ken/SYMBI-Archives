n="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>receiver-enabled</key>
    <false/>
</dict>
</plist>
EOF'

â 
This will properly create the AirPlay restriction file.

ð ï¸ Step 2: Restart & Verify

Restart your Mac to apply the changes

Check if AirPlay is finally disabled:

sh

Copy

Edit

ps aux | grep -E 

"AirPlay|screensharing|screencapture|VNC"

â If 
AirPlayXPCHelper & AirPlayUIAgent are gone
, the fix worked!

ð¨ If they are still there, let me know, and weâll try 
root-level blocking
 next.

ð Let Me Know What Happens!

Does the profile successfully disable AirPlay after reboot?

Does 
ps aux
 confirm the processes are gone?

If AirPlay still runs, weâll take a deeper approach.

Let me know! ð

You said:

lcl@LCLs-MacBook-Pro ~ % ps aux | grep -E "AirPlay|screensharing|screencapture|VNC"

lcl                544   0.0  0.1 411126432  18640   ??  S     9:37am   0:00.06 /System/Library/CoreServices/AirPlayUIAgent.app/Contents/MacOS/AirPlayUIAgent --launchd
lcl                724   0.0  0.0 410742544   1744 s000  S+    9:37am   0:00.01 grep -E AirPlay|screensharing|screencapture|VNC
root               149   0.0  0.1 426968016  15632   ??  Ss    9:36am   0:00.15 /usr/libexec/AirPlayXPCHelper
lcl@LCLs-MacBook-Pro ~ % 

ChatGPT said:

ð¨ AirPlay is STILL Running â System Profile Was Ignored

Even after applying the 
Managed Preferences configuration
, 
AirPlayXPCHelper and AirPlayUIAgent are still running.
 This means 
macOS is ignoring the profile and force-enabling AirPlay.

Since 
SIP (System Integrity Protection) prevents us from deleting these files
, we need a 
stronger method
 to 
block them from launching at startup.

ð FINAL SOLUTION: Prevent AirPlay from Running Using Launch Daemon Overrides

Since we 
cannot delete AirPlay services
, we will 
override them using launchd
 to block them from running.

ð ï¸ Step 1: Create a Dummy Override for AirPlayXPCHelper

Run this command to 
override AirPlayXPCHelper
 so macOS cannot launch it:

sh

Copy

Edit

sudo 

touch

 /Library/LaunchDaemons/com.apple.AirPlayXPCHelper.plist
sudo 

chmod

 000 /Library/LaunchDaemons/com.apple.AirPlayXPCHelper.plist

â 
This prevents macOS from launching AirPlayXPCHelper.

ð ï¸ Step 2: Override AirPlayUIAgent

Now, block 
AirPlayUIAgent
 using the same method:

sh

Copy

Edit

sudo 

touch

 /Library/LaunchAgents/com.apple.AirPlayUIAgent.plist
sudo 

chmod

 000 /Library/LaunchAgents/com.apple.AirPlayUIAgent.plist

â 
This prevents macOS from launching AirPlayUIAgent.

ð ï¸ Step 3: Restart and Verify

Restart your Mac

After reboot, check if AirPlay is still running:

sh

Copy

Edit

ps aux | grep -E 

"AirPlay|screensharing|screencapture|VNC"

ð If 
AirPlay processes are gone
, this solution worked!

ð¨ If AirPlay 
still appears
, macOS is deeply enforcing it, and weâll take 
one final root-level action.

ð Let Me Know the Results!

Did the override prevent AirPlay from running?

Does 
ps aux
 confirm the processes are gone?

If AirPlay still persists, we will block it at the root level.

ð¥ Let me know what happens after the restart! ð¥

You said:

check before I restart 

ChatGPT said:

**â Pre-Restart Check â What We Just

You said:

lcl@LCLs-MacBook-Pro ~ % ps aux | grep -E "AirPlay|screensharing|screencapture|VNC"

lcl                544   0.0  0.1 411126432  18640   ??  S     9:37am   0:00.06 /System/Library/CoreServices/AirPlayUIAgent.app/Contents/MacOS/AirPlayUIAgent --launchd
lcl                724   0.0  0.0 410742544   1744 s000  S+    9:37am   0:00.01 grep -E AirPlay|screensharing|screencapture|VNC
root               149   0.0  0.1 426968016  15632   ??  Ss    9:36am   0:00.15 /usr/libexec/AirPlayXPCHelper
lcl@LCLs-MacBook-Pro ~ % 
lcl@LCLs-MacBook-Pro ~ % 
lcl@LCLs-MacBook-Pro ~ % sudo touch /Library/LaunchDaemons/com.apple.AirPlayXPCHelper.pl