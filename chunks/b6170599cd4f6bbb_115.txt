-l /usr/local/lib | grep libtsk_jni

ls

 -l /usr/local/lib | grep opencv
java -XshowSettings:properties | grep java.library.path

ð This will confirm if Java can see all required libraries.

ð 
Try these fixes and let me know if Autopsy fully loads! ð¥

You said:

sja@SJAs-MacBook-Pro bin % 
sja@SJAs-MacBook-Pro bin % sudo install_name_tool -add_rpath /usr/local/lib /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/bin/java
export DYLD_LIBRARY_PATH=/usr/local/lib:$DYLD_LIBRARY_PATH
echo 'export DYLD_LIBRARY_PATH=/usr/local/lib:$DYLD_LIBRARY_PATH' >> ~/.zshrc
source ~/.zshrc

Password:
/Library/Developer/CommandLineTools/usr/bin/install_name_tool: warning: changes being made to the file will invalidate the code signature in: /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/bin/java
sja@SJAs-MacBook-Pro bin % ls -l /usr/local/lib/libtsk_jni.dylib

lrwxr-xr-x  1 root  wheel  58 18 Mar 02:13 /usr/local/lib/libtsk_jni.dylib -> /opt/homebrew/Cellar/sleuthkit/4.13.0/lib/libtsk_jni.dylib
sja@SJAs-MacBook-Pro bin % 

ChatGPT said:

ð¨ Warning: "Changes being made will invalidate the code signature" ð¥

The 

install_name_tool
 warning
 means that modifying the Java binary 
breaks its macOS code signature
, which could cause issues with security policies (SIP). 
However, this is usually fine for debugging
.

â Step 1: Force Java to Recognize 
libtsk_jni.dylib
 Without Modifying Java

Since the 
symlink
 exists (
libtsk_jni.dylib
 is properly linked), but Autopsy 
still isnât loading it
, letâs 
force Java to explicitly load it
 without modifying its internal structure.

Run:

sh

Copy

Edit

export

 JAVA_OPTS=

"-Djava.library.path=/usr/local/lib"

echo

'export JAVA_OPTS="-Djava.library.path=/usr/local/lib"'

 >> ~/.zshrc

source

 ~/.zshrc

Then, 
check if Java sees the correct library path
:

sh

Copy

Edit

java -XshowSettings:properties | grep java.library.path

ð 
If 
/usr/local/lib
 appears, proceed to the next step.

â Step 2: Manually Load 
libtsk_jni.dylib

Since Java is 
not recognizing the symlink
, letâs 
force-load the actual library
 instead.

1ï¸â£ 
Manually copy the actual 
libtsk_jni.dylib
 file (not just the symlink):

sh

Copy

Edit

sudo 

cp

 /opt/homebrew/Cellar/sleuthkit/4.13.0/lib/libtsk_jni.dylib /usr/local/lib/
sudo 

chmod

 755 /usr/local/lib/libtsk_jni.dylib

2ï¸â£ 
Check if the file is now properly in place:

sh

Copy

Edit

ls

 -l /usr/local/lib/libtsk_jni.dylib

3ï¸â£ 
Re-run Autopsy:

sh

Copy

Edit

cd

 ~/Downloads/autopsy-4.21.0/bin
./autopsy --jdkhome 

"/Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home"

ð If It Still Fails, Check What's Wrong

If the issue still persists, 
send me the output of these commands
:

sh

Copy

Edit

ls

 -l /usr/local/lib | grep libtsk_jni
java -XshowSettings:properties | grep java.library.path
otool -L /usr/local/lib/libtsk_jni.dylib

ð 
This will tell us if the library is broken or if Java simply canât read it.

ð 
Try these fixes and let me know what happens! ð¥

You said:

/Library/Developer/CommandLineTools/usr/bin/install_name_tool: warning: changes being made to the file will invalidate the code signature in: /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/bin/java
sja@SJAs-MacBook-Pro bin % ls -l /usr/local/lib/libtsk_jni.dylib

lrwxr-xr-x  1 root  wheel  58 18 Mar 02:13 /usr/local/lib/libtsk_jni.dylib -> /opt/homebrew/Cellar/sleuthkit/4.13.0/lib/libtsk_jni.dylib
sja@SJAs-MacBook-Pro bin % export JAVA_OPTS="-Djava.library.path=/usr/local/lib"
echo 'export JAVA_OPTS="-Djava.library.path=/usr/local/lib"' >> ~/.zshrc
source ~/.zshrc

sja@SJAs-MacBook-Pro bin % java -XshowSettings:properties | grep java.library.path

Property settings:
    file.encoding = UTF-8
    file.separator = /
    ftp.nonProxyHosts = local|*.local|169.254/16|*.169.254/16
    http.nonProxyHosts = local|*.local|169.254/16|*.169.254/16
    java.class.path = 
    java.class.version = 61.0
    java.home = /