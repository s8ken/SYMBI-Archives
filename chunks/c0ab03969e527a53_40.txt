â€“ The system is detecting an external display incorrectly.

A hidden configuration file is forcing the icon to appear.

ğŸ› ï¸ Step 1: Force macOS to Refresh UI by Resetting All System UI Preferences

Try this command:

sh

Copy

Edit

rm

 -rf ~/Library/Preferences/com.apple.systemuiserver.plist
killall SystemUIServer

âœ… This forces macOS to 
rebuild the UI preferences
 from scratch.

ğŸ”¹ 
Check if the icon disappears after running this.

ğŸ–¥ï¸ Step 2: Check External Displays & Disable AirPlay Display

Go to 
System Settings
 â†’ 
Displays

Look for an option called â€œAirPlay Displayâ€

If itâ€™s set to 
anything other than â€œOffâ€
, switch it to 
Off.

Disable "Show mirroring options in menu bar"
 if available.

âœ… 
This should stop macOS from showing the AirPlay icon.

ğŸ”„ Step 3: Restart & Check if the Icon is Gone

Restart your Mac
 after trying the above steps.

Run this command again after rebooting
:

sh

Copy

Edit

ps aux | grep -E 

"AirPlay|screensharing|screencapture|VNC"

âœ… If the output shows nothing, 
AirPlay is still disabled
, and the icon is just a UI issue.

ğŸ—‘ï¸ Step 4: Remove Any Remaining AirPlay Settings

If the icon 
is still there
, manually delete any remaining AirPlay settings:

sh

Copy

Edit

rm

 -rf ~/Library/Preferences/com.apple.airplay*
killall SystemUIServer

âœ… 
This clears any hidden AirPlay preference files.

ğŸš¨ Let Me Know What Happens!

Did removing 
com.apple.systemuiserver.plist
 fix it?

Did changing the display settings remove the icon?

Did resetting AirPlay preferences (
rm -rf ~/Library/Preferences/com.apple.airplay*
) work?

After a restart, is the icon still there?

ğŸš€ 
If the icon is still there after all this, we will go even deeper! Let me know the results.

You said:

still there 

ChatGPT said:

ğŸš¨ The Purple AirPlay Icon Still Wonâ€™t Disappear â€“ Let's Go Even Deeper

Since weâ€™ve confirmed:

âœ… 
No AirPlay processes are running.

âœ… 
You've reset SystemUIServer and AirPlay preferences.

âœ… 
You've checked Display settings and AirPlay is OFF.

ğŸš¨ 
But the icon is STILL there... This is abnormal behavior.

ğŸ” Step 1: Check What macOS Thinks is Running

Even though we donâ€™t see AirPlay in 
ps aux
, macOS might still believe an AirPlay connection exists.

Run:

sh

Copy

Edit

system_profiler SPDisplaysDataType

âœ… This will 
show connected displays
, including if macOS is still detecting an AirPlay display.

Look for 
any mention of "AirPlay" or "wireless display"
 in the output.

ğŸ–¥ï¸ Step 2: Check System Logs for AirPlay UI Events

Run:

sh

Copy

Edit

log

 show --predicate 

'subsystem == "com.apple.airplay"'

 --info --last 10m

âœ… This will 
show any recent AirPlay-related events in the system logs.

ğŸ”¹ 
Does it show any AirPlay activity even though we removed it?

ğŸ› ï¸ Step 3: Check If Your TV is Triggering AirPlay

Since the 
purple icon appeared when you connected your TV
, 
macOS might still be treating it as an AirPlay device instead of a normal display.

Disconnect your TV completely
 (physically unplug HDMI or turn off the TV).

Restart your Mac.

Check if the icon disappears after reboot.

âœ… 
If the icon disappears, macOS was misidentifying the TV as an AirPlay display.

ğŸš¨ 
If the icon is still there, macOS is stuck in an incorrect AirPlay state.

ğŸ›‘ Step 4: Manually Unload Any AirPlay Services

Even though AirPlay was removed, try manually unloading any hidden system services:

sh

Copy

Edit

launchctl list | grep -i airplay

If anything appears, try:

sh

Copy

Edit

sudo launchctl bootout system/com.apple.AirPlayXPCHelper

âœ… This ensures 
no hidden AirPlay daemons are still registered.

ğŸ”„ Step 5: Reset NVRAM & SMC (To Fix Stuck UI States)

If the icon 
is still there
, macOS might be 
stuck in a persistent UI state.

Reset NVRAM (Non-Volatile RAM)

Shut down your Mac completely.

Turn it on and immediately hold 
Option + Command + P + R

 for 
20 seconds
 until you hear the startup chime a second time.

Release the keys and let it boot normally.

âœ… 
This resets display settings, UI caches, and Ai