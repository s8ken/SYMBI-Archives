 
AirPlayXPCHelper and AirPlayUIAgent are still running.
 This means 
macOS is ignoring the profile and force-enabling AirPlay.

Since 
SIP (System Integrity Protection) prevents us from deleting these files
, we need a 
stronger method
 to 
block them from launching at startup.

üöÄ FINAL SOLUTION: Prevent AirPlay from Running Using Launch Daemon Overrides

Since we 
cannot delete AirPlay services
, we will 
override them using launchd
 to block them from running.

üõ†Ô∏è Step 1: Create a Dummy Override for AirPlayXPCHelper

Run this command to 
override AirPlayXPCHelper
 so macOS cannot launch it:

sh

Copy

Edit

sudo 

touch

 /Library/LaunchDaemons/com.apple.AirPlayXPCHelper.plist
sudo 

chmod

 000 /Library/LaunchDaemons/com.apple.AirPlayXPCHelper.plist

‚úÖ 
This prevents macOS from launching AirPlayXPCHelper.

üõ†Ô∏è Step 2: Override AirPlayUIAgent

Now, block 
AirPlayUIAgent
 using the same method:

sh

Copy

Edit

sudo 

touch

 /Library/LaunchAgents/com.apple.AirPlayUIAgent.plist
sudo 

chmod

 000 /Library/LaunchAgents/com.apple.AirPlayUIAgent.plist

‚úÖ 
This prevents macOS from launching AirPlayUIAgent.

üõ†Ô∏è Step 3: Restart and Verify

Restart your Mac

After reboot, check if AirPlay is still running:

sh

Copy

Edit

ps aux | grep -E 

"AirPlay|screensharing|screencapture|VNC"

üöÄ If 
AirPlay processes are gone
, this solution worked!

üö® If AirPlay 
still appears
, macOS is deeply enforcing it, and we‚Äôll take 
one final root-level action.

üöÄ Let Me Know the Results!

Did the override prevent AirPlay from running?

Does 
ps aux
 confirm the processes are gone?

If AirPlay still persists, we will block it at the root level.

üî• Let me know what happens after the restart! üî•

You said:

check before I restart 

ChatGPT said:

**‚úÖ Pre-Restart Check ‚Äì What We Just

You said:

lcl@LCLs-MacBook-Pro ~ % ps aux | grep -E "AirPlay|screensharing|screencapture|VNC"

lcl                544   0.0  0.1 411126432  18640   ??  S     9:37am   0:00.06 /System/Library/CoreServices/AirPlayUIAgent.app/Contents/MacOS/AirPlayUIAgent --launchd
lcl                724   0.0  0.0 410742544   1744 s000  S+    9:37am   0:00.01 grep -E AirPlay|screensharing|screencapture|VNC
root               149   0.0  0.1 426968016  15632   ??  Ss    9:36am   0:00.15 /usr/libexec/AirPlayXPCHelper
lcl@LCLs-MacBook-Pro ~ % 
lcl@LCLs-MacBook-Pro ~ % 
lcl@LCLs-MacBook-Pro ~ % sudo touch /Library/LaunchDaemons/com.apple.AirPlayXPCHelper.plist
sudo chmod 000 /Library/LaunchDaemons/com.apple.AirPlayXPCHelper.plist

Password:
lcl@LCLs-MacBook-Pro ~ % sudo touch /Library/LaunchAgents/com.apple.AirPlayUIAgent.plist
sudo chmod 000 /Library/LaunchAgents/com.apple.AirPlayUIAgent.plist

lcl@LCLs-MacBook-Pro ~ % 

ChatGPT said:

You said:

lcl@LCLs-MacBook-Pro ~ % ps aux | grep -E "AirPlay|screensharing|screencapture|VNC"

lcl                544   0.0  0.1 411126432  18640   ??  S     9:37am   0:00.06 /System/Library/CoreServices/AirPlayUIAgent.app/Contents/MacOS/AirPlayUIAgent --launchd
lcl                724   0.0  0.0 410742544   1744 s000  S+    9:37am   0:00.01 grep -E AirPlay|screensharing|screencapture|VNC
root               149   0.0  0.1 426968016  15632   ??  Ss    9:36am   0:00.15 /usr/libexec/AirPlayXPCHelper
lcl@LCLs-MacBook-Pro ~ % 
lcl@LCLs-MacBook-Pro ~ % 
lcl@LCLs-MacBook-Pro ~ % sudo touch /Library/LaunchDaemons/com.apple.AirPlayXPCHelper.plist
sudo chmod 000 /Library/LaunchDaemons/com.apple.AirPlayXPCHelper.plist

Password:
lcl@LCLs-MacBook-Pro ~ % sudo touch /Library/LaunchAgents/com.apple.AirPlayUIAgent.plist
sudo chmod 000 /Library/LaunchAgents/com.apple.AirPlayUIAgent.plist

lcl@LCLs-MacBook-Pro ~ % 

ChatGPT said:

‚úÖ Pre-Restart Check ‚Äì What We Just Did

You've successfully:

Created an override for 
AirPlayXPCHelper
 and 
AirPlayUIAgent

 in 
/Library/LaunchDaemons/
 and 
/Library/LaunchAgents/

Set their permissions to 
000

, making them 
unreadable and unexecutable
 by macOS.

This should block macOS from launching AirPlay services at boot.

üöÄ Next Step: Restar