o 
actively stream or discover devices
.

‚úÖ How to Fully Test If AirPlay is Blocked

Physically Remove or Disable the Wi-Fi Adapter

bash

Copy

Edit

networksetup -setnetworkserviceenabled Wi-Fi off

Check Active Network Interfaces

bash

Copy

Edit

ifconfig

Ensure 
only Ethernet (en0 or en1) is active
.

Check if AirPlay Services Are Still Advertising

bash

Copy

Edit

sudo lsof -iUDP | grep -i airplay

Try to AirPlay to Any Device

If your TV, Apple TV, or AV Receiver no longer appears, 
AirPlay is no longer operational
.

Let me know if AirPlay is still active after disconnecting Wi-Fi, and we‚Äôll go from there!

You said:

yeah its an option but not a solution keep going as we were

ChatGPT said:

Understood‚Äîlet‚Äôs continue eliminating 
AirPlay
 entirely. Since 
Wi-Fi removal alone is not enough
, we need to focus on completely 
stopping and preventing its services from running
.

üõ†Ô∏è Next Steps to Fully Disable AirPlay

Since 
AirPlayXPCHelper and AirPlayUIAgent
 keep running despite SIP restrictions, we need a more 
layered approach
.

1Ô∏è‚É£ Disable AirPlay at the System Level

We've done parts of this, but let's confirm 
all AirPlay settings are disabled
.

Run:

bash

Copy

Edit

defaults write /Library/Preferences/com.apple.airplay receiver-enabled -bool NO

Then check:

bash

Copy

Edit

defaults 

read

 /Library/Preferences/com.apple.airplay

If it returns 
"Domain com.apple.airplay does not exist"
, we can assume 
the system doesn't store an active preference
 for AirPlay.

2Ô∏è‚É£ Ensure AirPlay is Blocked on Startup

We 
previously disabled
 launch agents, but the processes 
still respawned
. We need to 
block execution at the system level
.

üõë Block AirPlayXPCHelper & AirPlayUIAgent From Launching

Run:

bash

Copy

Edit

sudo launchctl 

disable

 system/com.apple.AirPlayXPCHelper
sudo launchctl 

disable

 system/com.apple.AirPlayUIAgent

Then:

bash

Copy

Edit

sudo launchctl bootout system/com.apple.AirPlayXP

You said:

lcl@LCLs-MacBook-Pro ~ % defaults write /Library/Preferences/com.apple.airplay receiver-enabled -bool NO

2025-03-07 09:48:29.331 defaults[897:14929] Could not write domain /Library/Preferences/com.apple.airplay; exiting
lcl@LCLs-MacBook-Pro ~ % 

ChatGPT said:

Your error message 
"Could not write domain /Library/Preferences/com.apple.airplay; exiting"
 suggests that the system is preventing you from modifying that preference file. This is likely due to 
System Integrity Protection (SIP)
 or 
permissions issues
.

üõ†Ô∏è Workarounds to Force Disable AirPlay

Since 
defaults write
 failed, try 
one of these alternative methods
.

1Ô∏è‚É£ Use 
sudo
 to Force the Preference Change

Try running it as root:

bash

Copy

Edit

sudo defaults write /Library/Preferences/com.apple.airplay receiver-enabled -bool NO

If you get 
"Operation not permitted"
, it's likely SIP blocking this change.

2Ô∏è‚É£ Manually Create the Preference File (If Missing)

If AirPlay's preference file 
doesn't exist
, manually create it:

bash

Copy

Edit

sudo 

touch

 /Library/Preferences/com.apple.airplay.plist
sudo 

chmod

 644 /Library/Preferences/com.apple.airplay.plist
sudo defaults write /Library/Preferences/com.apple.airplay receiver-enabled -bool NO

Then verify:

bash

Copy

Edit

defaults 

read

 /Library/Preferences/com.apple.airplay

If it still 
doesn‚Äôt apply
, move to the next step.

3Ô∏è‚É£ Remount System as Writable (If SIP is Enabled)

If SIP is 
blocking modifications
, you will need to 
disable SIP
, apply the change, and re-enable SIP.

üõ†Ô∏è Steps:

Boot into Recovery Mode

Shut down
 your Mac.

Power it 
on while holding ‚åò + R
 until you see the Apple logo.

Open 
Terminal
 from the Utilities menu.

Remount System as Writable

Run:

bash

Copy

Edit

csrutil 

disable

sudo mount -uw /

This 
disables SIP and allows system changes
.

Apply the Change in Recovery Mode

Run:

bash

Copy

Edit

sudo defaults write /Library/Preferences/com.apple.airplay receiver-enabled -bool NO

Re-enable SIP & Reboot

bash

Copy

Edit

c